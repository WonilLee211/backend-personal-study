# I/O와 디스크의 관계

dbms 구조를 더욱 복잡하게 만드는 3 가지 요소

1. 병렬 처리를 가능케 하고 높은 처리량을 실현한다.
2. 응답(response)를 중시한다.
3. 커밋한 데이터는 지킨다.

디스크I/O는 기계 동작에 따른 데이터 접근으로 약 1천 분의 1초가 걸리는 반면,
메모리는 전기 신호 처리에 따른 데이터 접근으로 약 10억 분의 1초가 걸린다.

따라서, DBMS에게 필수동작인 디스크 I/O를 최소화해야 한다.

# I/O 대기 시간을 줄이는 방법

## 시퀀셜 액세스(Sequential Access)

시작점부터 마지막까지 중간 부분을 빠뜨리지 않고 전부 액세스(읽기/쓰기)하는 것

보통, 풀 스캔 시, 메모리에 데이터가 없을 때 실행되는 액세스 중 하나로, 데이터가 디스크 상에 순차적으로 존재하거나 작성할 수 있을때 시크와 액추에이터 헤더의 움직임을 최소화함으로써 전체 데이터를 순차적으로 처리해야 할 때 효과적인 I/O를 수행할 수 있음

하지만, 20MB/s 속도의 IO에서 100MB 테이블을 스캔할 경우, 5초가 걸리는 낮은 성능을 보인다.

## 인덱스

시퀀셜 액세스의 단점을 보완하는, 빠른 데이터 조회를 위한 자료 구조

테이블의 특정 컬럼을 키로, row 데이터가 저장되어있는 위치의 ROWID를 값으로 관리

<br>

### 인덱스를 이용한 SQL 처리의 흐름

1. 디스크에서 인덱스를 조회
2. 인덱스 테이블에서 키 값이 맞는 ROWID 조회
3. ROWID를 토대로 어드레스 조사

## 랜덤 액세스(Random Access)

특정 위치의 데이터를 찾을 때 효율적으로 데이터에 접근할 수 있는 액세스


## 데이터를 보증하기 위한 디스크

커밋 이후 데이터를 디스크에 저장함으로써 다양한 장애로부터 데이터를 지킨다.

## summary

액세스 방식 결정은 조회하는 데이터의 량에 의존적이다.

접근하려는 데이터가 전체 데이터에 비해 작다면, 인덱스나 랜덤 액세스가 효율적이다.

접근하려는 데이터가 전체 데이터의 절반 이상을 차지한다면, 시퀀셜 액세스가 효율적이다.


